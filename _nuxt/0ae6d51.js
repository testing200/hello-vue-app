(window.webpackJsonp=window.webpackJsonp||[]).push([[24,5,7,8,10,19,20,22,23],{332:function(t,e,r){"use strict";r.r(e);var n=r(341),o=r.n(n),l={props:["id","options","styles"],name:"highcharts",data:function(){return{chart:null}},mounted:function(){this.initChart()},watch:{options:function(){this.chart&&this.chart.update(this.options)}},methods:{initChart:function(){this.$el.style.height=(this.styles.height||400)+"px",this.chart=new o.a.Chart(this.$el,this.options)}}},c=(r(335),r(17)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"highcharts-container",attrs:{id:t.id}})}),[],!1,null,null,null);e.default=component.exports},333:function(t,e,r){var content=r(336);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("16b76a31",content,!0,{sourceMap:!1})},334:function(t,e,r){"use strict";var n=r(4),o=r(87).find,l=r(146),c="find",d=!0;c in[]&&Array(1).find((function(){d=!1})),n({target:"Array",proto:!0,forced:d},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),l(c)},335:function(t,e,r){"use strict";r(333)},336:function(t,e,r){var n=r(46)(!1);n.push([t.i,".highcharts-container{width:100%;height:500px}",""]),t.exports=n},338:function(t,e,r){var content=r(346);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("6e93261b",content,!0,{sourceMap:!1})},339:function(t,e,r){"use strict";r.r(e);r(147),r(342);var n={props:{obj:Object,index:Number},computed:{imagePath:function(){var t="/report/ProductImages/".concat(this.obj.Product_image);switch(this.obj.Brand){case"VERSACE":return t+".jpg";case"LONGINES":return t+".png";case"YSL":return t+".jpg";case"BULGARI":return t+".png";case"HOGAN":return t+".webp"}},category:function(){var t=[];return this.obj.QT_Category1&&t.push(this.obj.QT_Category1),this.obj.QT_Category2&&"NULL"!=this.obj.QT_Category2&&t.push(this.obj.QT_Category2),this.obj.QT_Category3&&"NULL"!=this.obj.QT_Category3&&t.push(this.obj.QT_Category3),t.join(" | ")}}},o=(r(345),r(17)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hot-product-item"},[r("div",{staticClass:"index"},[t._v("\n    #"+t._s(t.index+1)+"\n    "),t.obj.New_Product&&"Null"!=t.obj.New_Product?r("span",{staticClass:"new-product"},[t._v("NEW")]):t._e()]),t._v(" "),r("div",{staticClass:"info"},[r("p",{staticClass:"level1"},[t._v("\n      "+t._s(t.obj.Brand)+"\n    ")]),t._v(" "),r("p",{staticClass:"level2"},[t._v(t._s(t.obj.Product_name))]),t._v(" "),r("p",{staticClass:"level3"},[t._v(t._s(t.category))]),t._v(" "),r("p",[t._v("已售出： "+t._s(t.obj.cnt)+" 件 | ￥ "+t._s(t.$ft(t.obj.ReceiptProdPrice)))])]),t._v(" "),r("div",{staticClass:"image"},[r("el-popover",{attrs:{placement:"top-start",title:"",width:"300",trigger:"hover"}},[r("img",{staticStyle:{"max-height":"300px","max-width":"300px"},attrs:{src:t.imagePath}}),t._v(" "),r("img",{attrs:{slot:"reference",src:t.imagePath,alt:""},slot:"reference"})])],1)])}),[],!1,null,null,null);e.default=component.exports},342:function(t,e,r){"use strict";var n=r(13),o=r(3),l=r(89),c=r(16),d=r(15),h=r(38),f=r(215),v=r(88),m=r(5),C=r(90),y=r(148).f,_=r(49).f,x=r(19).f,w=r(343).trim,T="Number",P=o.Number,k=P.prototype,B=h(C(k))==T,A=function(t){var e,r,n,o,l,c,d,code,h=v(t,!1);if("string"==typeof h&&h.length>2)if(43===(e=(h=w(h)).charCodeAt(0))||45===e){if(88===(r=h.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(h.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+h}for(c=(l=h.slice(2)).length,d=0;d<c;d++)if((code=l.charCodeAt(d))<48||code>o)return NaN;return parseInt(l,n)}return+h};if(l(T,!P(" 0o1")||!P("0b1")||P("+0x1"))){for(var j,R=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof R&&(B?m((function(){k.valueOf.call(r)})):h(r)!=T)?f(new P(A(e)),r,R):A(e)},N=n?y(P):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Q=0;N.length>Q;Q++)d(P,j=N[Q])&&!d(R,j)&&x(R,j,_(P,j));R.prototype=k,k.constructor=R,c(o,T,R)}},343:function(t,e,r){var n=r(14),o="["+r(344)+"]",l=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),d=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(l,"")),2&t&&(r=r.replace(c,"")),r}};t.exports={start:d(1),end:d(2),trim:d(3)}},344:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},345:function(t,e,r){"use strict";r(338)},346:function(t,e,r){var n=r(46)(!1);n.push([t.i,".hot-product-item{display:flex;border-bottom:1px solid #dadada;padding:10px 0;align-items:center;max-width:100%}.hot-product-item .index{color:#333;font-weight:700;font-size:15px;width:40px}.hot-product-item .info{width:calc(100% - 100px)}.hot-product-item .info p{font-size:13px}.hot-product-item .info .level1{font-weight:700;color:#020202}.hot-product-item .info .level2{font-weight:700;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.hot-product-item .info .level3{color:#817f7f}.hot-product-item .info .level4{color:#fd1e00}.hot-product-item .image{width:60px}.hot-product-item .image img{width:50px;height:50px}",""]),t.exports=n},347:function(t,e,r){"use strict";r.r(e);var n=r(353),o=r.n(n),l=r(366),c=r.n(l),d={name:"Treemap",data:function(){return{chart:null}},mounted:function(){this.initChart()},watch:{options:function(){this.chart&&this.chart.update(this.options)}},methods:{initChart:function(){c()(o.a);this.chart=new o.a.Chart(this.$el,{series:[{type:"treemap",layoutAlgorithm:"stripes",alternateStartingDirection:!0,levels:[{level:1,layoutAlgorithm:"sliceAndDice",dataLabels:{enabled:!0,align:"right",verticalAlign:"bottom",style:{fontSize:"18px",fontWeight:"bold"}}}],data:[{id:"Chanel",name:"25%",color:"#f21e39"},{name:"Chanel",parent:"Chanel",value:25},{id:"Dior",name:"20%",color:"#b3992a"},{name:"Dior",parent:"Dior",value:20},{id:"Gucci",name:"15%",color:"#1bbcd1"},{name:"Gucci",parent:"Gucci",value:15},{id:"Bally",name:"10%",color:"#45bc2a"},{name:"Bally",parent:"Bally",value:10},{id:"Celine",name:"8%",color:"#8af468"},{name:"Celine",parent:"Celine",value:8},{id:"Parda",name:"8%",color:"#dfb172"},{name:"Parda",parent:"Parda",value:8},{id:"Coach",name:"7%",color:"#e5b751"},{name:"Coach",parent:"Coach",value:7},{id:"Zara",name:"7%",color:"#42a5be"},{name:"Zara",parent:"Zara",value:7}],dataLabels:{enabled:!0,align:"left",verticalAlign:"top",style:{fontSize:"18px",fontWeight:"bold"},formatter:function(){var t=this.key;this.point.value;return t}}}]})}}},h=r(17),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"chart-warpper"})}),[],!1,null,null,null);e.default=component.exports},348:function(t,e,r){var content=r(355);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("f714bcf0",content,!0,{sourceMap:!1})},349:function(t,e,r){var content=r(357);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("26597151",content,!0,{sourceMap:!1})},350:function(t,e,r){var content=r(369);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("143e5af1",content,!0,{sourceMap:!1})},351:function(t,e,r){var content=r(371);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("4073a81e",content,!0,{sourceMap:!1})},352:function(t,e,r){var content=r(373);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("6205315e",content,!0,{sourceMap:!1})},354:function(t,e,r){"use strict";r(348)},355:function(t,e,r){var n=r(46)(!1);n.push([t.i,".large{font-size:24px;height:62px}.container{padding:0 15px}.el-table .odd-row{background:#add8e6}.el-table .even-row{background:#f5fffa}",""]),t.exports=n},356:function(t,e,r){"use strict";r(349)},357:function(t,e,r){var n=r(46)(!1);n.push([t.i,".charts{display:flex;width:100%}.charts .chart-item{padding:10px;flex:1}",""]),t.exports=n},365:function(t,e,r){"use strict";r.r(e);r(37),r(48);var n=r(6),o={components:{TranChart:r(332).default},data:function(){return{chartlist:[],countCharts:[],avgCharts:[]}},computed:{chartData:function(){}},methods:{},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[[{Type:"成衣",Proportion:100},{Type:"运动鞋",Proportion:60},{Type:"香水",Proportion:40},{Type:"包装",Proportion:30},{Type:"皮带",Proportion:30},{Type:"围巾",Proportion:10},{Type:"腕表",Proportion:8}],[{Type:"包装",Proportion:100},{Type:"高跟鞋",Proportion:80},{Type:"皮带",Proportion:60},{Type:"围巾",Proportion:30},{Type:"大褛",Proportion:30},{Type:"珠宝",Proportion:15},{Type:"太阳眼镜",Proportion:8}],[{Type:"珠宝",Proportion:100},{Type:"包装",Proportion:50},{Type:"腕表",Proportion:35},{Type:"高跟鞋",Proportion:20},{Type:"成衣",Proportion:12},{Type:"面膜",Proportion:10},{Type:"香水",Proportion:6}],[{Type:"香水",Proportion:100},{Type:"高跟鞋",Proportion:60},{Type:"围巾",Proportion:40},{Type:"面膜",Proportion:30},{Type:"包装",Proportion:30},{Type:"太阳眼镜",Proportion:10},{Type:"腕表",Proportion:5}]],n=[],o=function(t){n.push({chart:{type:"bar"},xAxis:{categories:r[t].map((function(a){return a.Type})),useHTML:!0,labels:{formatter:function(){return this.isFirst&&0==t?"会员购买    : "+this.value:this.isFirst||0!=t||1!=this.pos?this.value:"同时会买 : <span style='background-color: grey'>"+this.value+"</span>"},style:{font:"16px Trebuchet MS, Verdana, sans-serif"}}},yAxis:{title:{text:""},labels:{enabled:!1},gridLineWidth:0,leftPerc:"0%",widthPerc:"30%",offset:0},plotOptions:{series:{colorByPoint:!0},bar:{dataLabels:{formatter:function(){return this.y+"%"},enabled:!0,allowOverlap:!0},column:{zones:[{value:50,color:"blue"},{color:"red"}]}}},title:"",credits:{enabled:!1},legend:{enabled:!1},series:[{name:r[t].map((function(a){return a.Type})),data:r[t].map((function(a){return a.Proportion})),colors:["green","lightgreen"]}]})},l=0;l<r.length;l++)o(l);t.avgCharts=n;case 5:case"end":return e.stop()}}),e)})))()}},l=(r(356),r(17)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chart-warpper"},[r("div",{staticClass:"panel"},[r("div",{staticClass:"panel-title"},[t._v("\n      各品牌的消费单价\n    ")]),t._v(" "),r("div",{staticClass:"panel-content"},[r("div",{staticClass:"chartitem"},[r("el-card",[r("div",{staticClass:"charts"},t._l(t.avgCharts,(function(t,e){return r("div",{key:e,staticClass:"chart-item"},[r("TranChart",{attrs:{id:"chartlist_"+e,options:t,styles:{height:300}}})],1)})),0)])],1)])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TranChart:r(332).default})},367:function(t,e,r){"use strict";r.r(e);r(347);var n={methods:{tableRowClassName:function(t){t.row;return t.rowIndex%2==1?"odd-row":"even-row"}},data:function(){return{items:[{brand:"Chanel",distribution:"25%",rto:"+2%"},{brand:"Dior",distribution:"20%",rto:"-5%"},{brand:"Gucci",distribution:"15%",rto:"+1%"},{brand:"Bally",distribution:"10%",rto:"+3%"},{brand:"Celine",distribution:"8%",rto:"-4%"}]}},created:function(){},asyncData:function(t){t.req}},o=(r(354),r(17)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:16}},[r("Treemap")],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("div",{staticClass:"chart-warpper"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.items,"row-class-name":t.tableRowClassName}},[r("el-table-column",{attrs:{prop:"brand",label:"品牌",sortable:"","class-name":"large"}}),t._v(" "),r("el-table-column",{attrs:{prop:"distribution",label:"占比",sortable:"","class-name":"large"}}),t._v(" "),r("el-table-column",{attrs:{prop:"rto",sortable:"",label:"=/-","class-name":"large"}})],1)],1)])],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Treemap:r(347).default})},368:function(t,e,r){"use strict";r(350)},369:function(t,e,r){var n=r(46)(!1);n.push([t.i,".box-card{margin-top:20px}.category-tab2{height:40px;line-height:40px;display:inline-block;background-color:#f5f7fa;border:1px solid #e4e7ed}.category-tab2 ul{display:flex;height:100%;width:300px;align-items:center;justify-content:center}.category-tab2 ul li{flex:1;height:100%;list-style:none;text-align:center;color:#909399;cursor:pointer;transition:all .5s linear}.category-tab2 ul li:hover{color:#409eff}.category-tab2 ul .active{background:#409eff;color:#fff}.category-tab2 ul .active:hover{color:#fff}",""]),t.exports=n},370:function(t,e,r){"use strict";r(351)},371:function(t,e,r){var n=r(46)(!1);n.push([t.i,".chart-warpper,.chart-warpper .row-2{margin-top:25px}.chart-warpper .brands{margin-bottom:25px}.chart-warpper .category-tab{height:40px;line-height:40px;background-color:#f5f7fa;border:1px solid #e4e7ed}.chart-warpper .category-tab ul{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.chart-warpper .category-tab ul li{flex:1;height:100%;list-style:none;text-align:center;color:#909399;cursor:pointer;transition:all .5s linear}.chart-warpper .category-tab ul li:hover{color:#409eff}.chart-warpper .category-tab ul .active{background:#409eff;color:#fff}.chart-warpper .category-tab ul .active:hover{color:#fff}",""]),t.exports=n},372:function(t,e,r){"use strict";r(352)},373:function(t,e,r){var n=r(46)(!1);n.push([t.i,".charts{display:flex;width:100%}.charts .chart-item{padding:10px;flex:1}",""]),t.exports=n},388:function(t,e,r){"use strict";r.r(e);r(50),r(61),r(48);var n=r(6),o=r(337),l=r.n(o),c={components:{HotProductItem:r(339).default},data:function(){return{loading:!0,brands:[],products:[],QTCategories:[{key:"QT1",value:"一级"},{key:"QT2",value:"二级"},{key:"QT3",value:"三级"}],CurQTCate:"",CurBrand:""}},watch:{CurQTCate:function(){this.load()},CurBrand:function(){}},methods:{getHotProducts:function(t){return this.products.filter((function(a){return a.Brand==t}))||[]},load:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,r="QTCate=".concat(t.CurQTCate,"&Brand=").concat(t.CurBrand),e.next=5,l.a.get("/report/server/getHotProductsGroupbyBrand?"+r);case 5:n=e.sent,0==(o=n.data.model||[]).length?t.$message({type:"error",message:"网络出错，请稍后再试"}):(t.brands=o[0],t.products=o[1]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.$message({type:"error",message:"网络出错，请稍后再试"});case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}}),e)})))()}},d=(r(368),r(17)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"panel"},[r("div",{staticClass:"panel-title"},[t._v("\n    各品牌的热销产品"),r("span",[t._v("(以顾客购买产品数量排列)")]),t._v(" "),r("span",{staticStyle:{"padding-left":"30px"}},[t._v("选择产品分类")]),t._v(" "),r("div",{staticClass:"category-tab2 brands"},[r("ul",t._l(t.QTCategories,(function(e){return r("li",{key:e.key,class:{active:t.CurQTCate==e.key},on:{click:function(r){t.CurQTCate=e.key}}},[t._v("\n          "+t._s(e.value)+"\n        ")])})),0)]),t._v(" "),r("span",{staticStyle:{"padding-left":"30px"}},[t._v("品牌名称")]),t._v(" "),r("span",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.CurBrand,expression:"CurBrand"}],attrs:{type:"textbox",id:""},domProps:{value:t.CurBrand},on:{input:function(e){e.target.composing||(t.CurBrand=e.target.value)}}})]),t._v(" "),r("button",{on:{click:function(e){return t.load()}}},[t._v("搜寻")])]),t._v(" "),r("div",{staticClass:"panel-content rank"},[r("el-row",{attrs:{gutter:20}},t._l(t.brands,(function(e){return r("el-col",{key:e.Brand,attrs:{span:6}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix category-header",attrs:{slot:"header"},slot:"header"},[r("span",[t._v(t._s(e.brand))]),t._v(" "),r("span",{staticClass:"num"},[t._v(" | 共："+t._s(e.cnt)+" 件")]),t._v(" "),r("span",{staticClass:"num"},[t._v("金额：￥"+t._s(t.$ft(e.amount))+" ")]),t._v(" "),r("span",{staticClass:"num",domProps:{innerHTML:t._s(t.$rato(e.rato))}})]),t._v(" "),t._l(t.getHotProducts(e.Brand),(function(t,e){return r("div",{key:t.Product_name+e},[r("HotProductItem",{attrs:{obj:t,index:e}})],1)}))],2)],1)})),1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{HotProductItem:r(339).default})},389:function(t,e,r){"use strict";r.r(e);r(334),r(37),r(48);var n=r(6),o=r(332),l=r(337),c=r.n(l),d={components:{TranChart:o.default},data:function(){return{categories:[],chartdata:[],cntchartdata:[],tran:[],brands:[],brand:1012,cate:"",cate1:"",loading:!0,xCategories:[],sexRato:null}},computed:{chartData:function(){var t=this.chartdata.map((function(a){return a.y})),e=0;return t&&t.length>0&&(e=t.reduce((function(t,e){return t+e}))),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"销售总额￥"+this.$ft(e)+" "+this.$rato(.05),useHTML:!0},credits:{enabled:!1},tooltip:{pointFormat:"销售额：<b>{point.y}</b>，占比<b>{point.percentage:.1f}%</b>"},subtitle:{text:"*按下显示分类数值"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:"#333"}}}},series:[{name:"占比",colorByPoint:!0,data:this.chartdata}]}},chartDataCn:function(){var t=this.cntchartdata.map((function(a){return a.y})),e=0;return t&&t.length>0&&(e=t.reduce((function(t,e){return t+e}))),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"销售产品数量: "+this.$ft(e)+"件 "+this.$rato(-.03),useHTML:!0},subtitle:{text:"*按下显示分类数值"},credits:{enabled:!1},tooltip:{pointFormat:"共销售<b>{point.y}</b>件，占比<b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:"#333"}}}},series:[{name:"分类",colorByPoint:!0,data:this.cntchartdata}]}},barAmount:function(){var t=this,e=this.tran,data=[];return e.length>0&&(data=this.xCategories.map((function(r){var n=e.find((function(a){return a.QT_Category2==t.cate&&a.dweek==r}));return n?n.totalPrice:0}))),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"line"},title:{text:this.cate+"销售额"},xAxis:{categories:this.xCategories},yAxis:{title:{text:"销售额"}},credits:{enabled:!1},legend:{enabled:!1},tooltip:{pointFormat:"销售额：<b>{point.y}</b>"},series:[{name:this.cate,data:data}]}},barCount:function(){var t=this,e=this.tran,data=[];return e.length>0&&(data=this.xCategories.map((function(r){var n=e.find((function(a){return a.QT_Category2==t.cate1&&a.dweek==r}));return n?n.totalCount:0}))),{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"line"},title:{text:this.cate1+"销售数量"},xAxis:{categories:this.xCategories},yAxis:{title:{text:"销售量"}},credits:{enabled:!1},legend:{enabled:!1},tooltip:{pointFormat:"共销售<b>{point.y}</b>件"},series:[{name:"分类",data:data}]}}},watch:{brand:function(){this.load()}},methods:{load:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,c.a.get("/report/server/getTranByBrand?bid="+t.brand);case 4:r=e.sent,t.categories=r.data.model[0]||[],t.tran=r.data.model[1]||[],t.brands=r.data.model[2]||[],t.xCategories=(r.data.model[3]||[]).map((function(a){return a.dlist})),(n=r.data.model[4]||[])&&n.length>0&&(o=n.find((function(a){return"女士"==a.ttype})),l=n.find((function(a){return"男士"==a.ttype})),o&&l&&(d=o.cnt+l.cnt,h=o.amount+l.amount,t.sexRato={womenCnt:o.cnt/d*100,menCnt:l.cnt/d*100,womenAmount:o.amount/h*100,menAmount:l.amount/h*100})),t.categories.length>0&&(t.chartdata=t.categories.map((function(a){return{name:a.QT_Category2,y:a.totalPrice}})),t.cntchartdata=t.categories.map((function(a){return{name:a.QT_Category2,y:a.totalCount}})),t.cate=t.categories[0].QT_Category2,t.cate1=t.categories[0].QT_Category2),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.$message({type:"error",message:"网络出错，请稍后再试"});case 17:t.loading=!1;case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))()}},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}}),e)})))()}},h=(r(370),r(17)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"chart-warpper"},[r("el-card",[r("div",{staticClass:"category-tab brands"},[r("ul",t._l(t.brands,(function(e){return r("li",{key:e.Brand,class:{active:t.brand==e.BrandID},on:{click:function(r){t.brand=e.BrandID}}},[t._v("\n          "+t._s(e.Brand)+"\n        ")])})),0)]),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-card",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.categories,stripe:""}},[r("el-table-column",{attrs:{prop:"QT_Category2",label:"分类"}}),t._v(" "),r("el-table-column",{attrs:{prop:"totalPrice",label:"销售总额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.$ft(e.row.totalPrice))+"\n                  ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"amountRato",label:"占比"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{domProps:{innerHTML:t._s(t.$percent(e.row.amountRato))}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"cntRato",label:"＋／－"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{domProps:{innerHTML:t._s(t.$rato(e.row.arato))}})]}}])})],1),t._v(" "),t.sexRato?r("div",{staticClass:"control-rato"},[r("div",{staticClass:"label"},[t._v("女士")]),t._v(" "),r("div",{staticClass:"rato-chart"},[r("div",{staticClass:"women",style:{width:t.sexRato.womenCnt+"%"}},[t._v("\n                    "+t._s(Math.round(t.sexRato.womenCnt))+"%\n                  ")]),t._v(" "),r("div",{staticClass:"men",style:{width:t.sexRato.menCnt+"%"}},[t._v("\n                    "+t._s(Math.round(t.sexRato.menCnt))+"%\n                  ")])]),t._v(" "),r("div",{staticClass:"label"},[t._v("男士")])]):t._e()],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("TranChart",{attrs:{id:"amountChart",options:t.chartData,styles:{height:400}}})],1)],1)],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-card",[r("div",{staticClass:"category-tab"},[r("ul",t._l(t.categories,(function(e){return r("li",{key:e.QT_Category2,class:{active:t.cate==e.QT_Category2},on:{click:function(r){t.cate=e.QT_Category2}}},[t._v("\n                "+t._s(e.QT_Category2)+"\n              ")])})),0)]),t._v(" "),r("TranChart",{attrs:{id:"barAmount",options:t.barAmount,styles:{height:360}}})],1)],1)],1),t._v(" "),r("el-row",{staticClass:"row-2",attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-card",[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.categories,stripe:""}},[r("el-table-column",{attrs:{prop:"QT_Category2",label:"分类"}}),t._v(" "),r("el-table-column",{attrs:{prop:"totalCount",label:"销售总额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.$ft(e.row.totalCount))+"\n                  ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"cntRato",label:"占比"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{domProps:{innerHTML:t._s(t.$percent(e.row.cntRato))}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"cntRato",label:"＋／－"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{domProps:{innerHTML:t._s(t.$rato(e.row.crato))}})]}}])})],1),t._v(" "),t.sexRato?r("div",{staticClass:"control-rato"},[r("div",{staticClass:"label"},[t._v("女士")]),t._v(" "),r("div",{staticClass:"rato-chart"},[r("div",{staticClass:"women",style:{width:t.sexRato.womenAmount+"%"}},[t._v("\n                    "+t._s(Math.round(t.sexRato.womenAmount))+"%\n                  ")]),t._v(" "),r("div",{staticClass:"men",style:{width:t.sexRato.menAmount+"%"}},[t._v("\n                    "+t._s(Math.round(t.sexRato.menAmount))+"%\n                  ")])]),t._v(" "),r("div",{staticClass:"label"},[t._v("男士")])]):t._e()],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("TranChart",{attrs:{id:"countChart",options:t.chartDataCn,styles:{height:400}}})],1)],1)],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-card",[r("div",{staticClass:"category-tab"},[r("ul",t._l(t.categories,(function(e){return r("li",{key:e.QT_Category2,class:{active:t.cate1==e.QT_Category2},on:{click:function(r){t.cate1=e.QT_Category2}}},[t._v("\n                "+t._s(e.QT_Category2)+"\n              ")])})),0)]),t._v(" "),r("TranChart",{attrs:{id:"barCount",options:t.barCount,styles:{height:360}}})],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TranChart:r(332).default})},390:function(t,e,r){"use strict";r.r(e);r(334),r(37),r(48);var n=r(6),o=r(332),l=r(337),c=r.n(l),d={components:{TranChart:o.default},data:function(){return{loading:!0,brands:[],categoryes:[],list:[],chartlist:[],countCharts:[],avgCharts:[]}},methods:{load:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,c.a.get("/report/server/getChartList");case 4:r=e.sent,t.categoryes=r.data.model[0]||[],t.brands=r.data.model[1]||[],t.list=r.data.model[2]||[],t.autoCalc(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),t.$message({type:"error",message:"网络出错，请稍后再试"});case 15:t.loading=!1;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},autoCalc:function(){for(var t=this,e=[],r=[],n=[],o=this.categoryes.map((function(a){return a.QT_Category2})),l=this.brands.map((function(a){return a.Brand})),c=function(c){for(var d=o[c],h=t.categoryes[c],f=[],v=[],m=[],C=function(e){var r=l[e],n=t.list.find((function(a){return a.Brand==r&&a.QT_Category2==d}));f.push(n?n.amount:0),v.push(n?n.cnt:0),m.push(n?n.avgprice:0)},y=0;y<l.length;y++)C(y);e.push({chart:{type:"bar"},xAxis:{categories:l},yAxis:{title:"销售额"},plotOptions:{bar:{dataLabels:{formatter:function(){return Math.round(this.y/h.amount*100)+"%"},enabled:!0,allowOverlap:!0}}},title:{text:d},credits:{enabled:!1},legend:{enabled:!1},series:[{name:d,data:f}]}),r.push({chart:{type:"bar"},xAxis:{categories:l},yAxis:{title:"销售量"},plotOptions:{bar:{dataLabels:{formatter:function(){return Math.round(this.y/h.cnt*100)+"%"},enabled:!0,allowOverlap:!0}}},title:{text:d},credits:{enabled:!1},legend:{enabled:!1},series:[{name:d,data:v}]}),n.push({chart:{type:"bar"},xAxis:{categories:l},yAxis:{title:"售价"},title:{text:d},credits:{enabled:!1},legend:{enabled:!1},series:[{name:d,data:m}]})},d=0;d<o.length;d++)c(d);this.chartlist=e,this.countCharts=r,this.avgCharts=n}},created:function(){this.load()}},h=(r(372),r(17)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[r("div",{staticClass:"panel"},[r("div",{staticClass:"panel-title"},[t._v("\n      销售金额\n    ")]),t._v(" "),r("div",{staticClass:"panel-content"},[r("div",{staticClass:"chartitem"},[r("el-card",[r("div",{staticClass:"charts"},t._l(t.chartlist,(function(t,e){return r("div",{key:e,staticClass:"chart-item"},[r("TranChart",{attrs:{id:"chartlist_"+e,options:t,styles:{height:300}}})],1)})),0)])],1)])]),t._v(" "),r("div",{staticClass:"panel"},[r("div",{staticClass:"panel-title"},[t._v("\n      销售数量\n    ")]),t._v(" "),r("div",{staticClass:"panel-content"},[r("div",{staticClass:"chartitem"},[r("el-card",[r("div",{staticClass:"charts"},t._l(t.countCharts,(function(t,e){return r("div",{key:e,staticClass:"chart-item"},[r("TranChart",{attrs:{id:"chartlist_"+e,options:t,styles:{height:300}}})],1)})),0)])],1)])]),t._v(" "),r("div",{staticClass:"panel"},[r("div",{staticClass:"panel-title"},[t._v("\n      每件商品售价\n    ")]),t._v(" "),r("div",{staticClass:"panel-content"},[r("div",{staticClass:"chartitem"},[r("el-card",[r("div",{staticClass:"charts"},t._l(t.avgCharts,(function(t,e){return r("div",{key:e,staticClass:"chart-item"},[r("TranChart",{attrs:{id:"chartlist_"+e,options:t,styles:{height:300}}})],1)})),0)])],1)])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TranChart:r(332).default})},405:function(t,e,r){var content=r(430);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("6141478c",content,!0,{sourceMap:!1})},429:function(t,e,r){"use strict";r(405)},430:function(t,e,r){var n=r(46)(!1);n.push([t.i,".container{padding:0 15px}",""]),t.exports=n},442:function(t,e,r){"use strict";r.r(e);var n=r(388),o=r(389),l=r(390),c={components:{HotBrands:n.default,PieChartBrand:o.default,ChartList:l.default},created:function(){},asyncData:function(t){t.req;return{isLogin:!0}}},d=(r(429),r(17)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("HotBrands"),t._v(" "),r("ChartList"),t._v(" "),r("PieChartBrand"),t._v(" "),r("BrandDistribution"),t._v(" "),r("PurchaseAssociation")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{HotBrands:r(388).default,ChartList:r(390).default,PieChartBrand:r(389).default,BrandDistribution:r(367).default,PurchaseAssociation:r(365).default})}}]);